<app-navbar></app-navbar>
<div class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <div class="card">
        <div class="card-header">
          <h3>Edit Student</h3>
        </div>
        <div class="card-body">
          <form [formGroup]="reactiveForm" (ngSubmit)="editStudent()">
            <div class="form-group">
              <label for="name">Name:</label>
              <input id="name" type="text" formControlName="name" placeholder="Enter your name" required
                [(ngModel)]="student.name">
              <div class="danger"
                *ngIf="(reactiveFormControl.name.touched) && reactiveFormControl.name.errors?.required">
                Name is required
              </div>
            </div>
            <div class="form-group">
              <label for="dob">Date of Birth:</label>
              <input id="dob" type="date" formControlName="dob" placeholder="Select date of birth" required
                [(ngModel)]="student.dob">
              <div class="danger" *ngIf="(reactiveFormControl.dob.touched) && reactiveFormControl.dob.errors?.required">
                Date of Birth is required
              </div>
            </div>
            <div class="form-group">
              <label for="email">Email:</label>
              <input type="email" id="email" name="email" formControlName="email" placeholder="Enter your Email"
                required [(ngModel)]="student.email">
              <div class="danger"
                *ngIf="(reactiveFormControl.email.touched) && reactiveFormControl.email.errors?.required">
                Email is required
              </div>
              <div class="danger"
                *ngIf="(reactiveFormControl.email.touched) && reactiveFormControl.email.errors?.email">
                Email is Invaild
              </div>
            </div>
            <div class="form-group">
              <label for="phno">Phone:</label>
              <input type="text" id="phno" name="phno" formControlName="phno" placeholder="Enter your Phone Number"
                required [(ngModel)]="student.phno">
              <div class="danger"
                *ngIf="(reactiveFormControl.phno.touched) && reactiveFormControl.phno.errors?.required">
                Phone Number is required
              </div>
              <div class="danger"
                *ngIf="(reactiveFormControl.phno.touched) && reactiveFormControl.phno.errors?.pattern">
                Please, Enter 10 digit Mobile Number.
              </div>
            </div>
            <div class="form-group">
              <label for="address">Address:</label>
              <textarea id="address" formControlName="address" placeholder="Enter your Address" required
                [(ngModel)]="student.address"></textarea>
              <div class="danger"
                *ngIf="(reactiveFormControl.address.touched) && reactiveFormControl.address.errors?.required">
                Address is required
              </div>
            </div>
            <div class="form-group">
              <label for="dateOfJoining">Date of Joining:</label>
              <input id="dateOfJoining" type="date" formControlName="dateOfJoining"
                placeholder="Enter your Date Of Joining" required [(ngModel)]="student.dateOfJoining">
              <div class="danger"
                *ngIf="(reactiveFormControl.dateOfJoining.touched) && reactiveFormControl.dateOfJoining.errors?.required">
                Date of Joining is required
              </div>
            </div>
            <div class="form">
              <label for="academicYear">Select Academic Year:</label>
              <select id="academicYear" formControlName="academicYear" [(ngModel)]="student.academicYear">

                <option *ngFor="let academicYear of academicYears" [ngValue]="academicYear">{{academicYear}}</option>
              </select>
            </div>
            <div class="form">
              <label for="department">Select Department:</label>
              <select class="custom-select" id="department" formControlName="department"
                placeholder="Select your Department" required [(ngModel)]="student.department.name">
                <option value="" selected>Select the Department</option>
                <option [value]="department.name" *ngFor="let department of departments"> {{department.name}}
                </option>
              </select>
            </div>

            <div class="form">
              <label for="courseType">Select Course Type:</label>
              <select id="courseType" formControlName="courseType"
                (change)="getCoursesByDepartmentAndCourseType(reactiveForm.get('department').value, $event.target.value)">
                <option>Select Course Type</option>
                <option *ngFor="let courseType of courseTypes" [value]="courseType.id">
                  {{courseType.courseTypeName}}
                </option>
              </select>

            </div>
            <div class="form">
              <label for="course">Select Course:</label>
              <select class="custom-select" id="course" formControlName="course" placeholder="Select your Course"
                required [(ngModel)]="student.course.name"
                (change)="getSemestersByCourseType(reactiveForm.get('courseType').value)">
                <option value="" selected>Select Course</option>
                <option [value]="course.name" *ngFor="let course of courses">{{course.name}}</option>
              </select>
            </div>
            <div class="form">
              <label for="semester">Select Semester:</label>
              <select class="custom-select" id="semester" formControlName="semester" placeholder="Select your Semester"
                required>
                <option disabled selected>Select Semester</option>
                <option *ngFor="let semester of semesters" [value]="semester.name">{{semester.name}}
                </option>
              </select>
            </div>

            <button type="submit" class="btn btn-primary" id="edit" [disabled]="!reactiveForm.valid">Save
              Changes</button>

            <button type="reset" class="btn btn-primary" id="reset">Reset</button>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>